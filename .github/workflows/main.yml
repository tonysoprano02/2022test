name: Build & Publish Debug APK

on:
 push:
  branches:
   - main
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v1 
      - name: Install Cordova
        run: |
          npm i cordova
      - name: Build
        run: |
          npm install
      - name: Remove cordova res
        run: |
          npm uninstall cordova-res
      - name: Install cordova res
        run: |
          npm install -g cordova-res
      - name: Add cordova-android
        run: |
         npm i cordova-android
      - name: Use coturiv/setup-ionic
        uses: coturiv/setup-ionic@v1
        with:
          cordova-version: 8
      - name: Add Scripts
        run: |
             npm i @ionic/app-scripts
      - name: Add Platform
        run: |
         ionic cordova platform add android@10.0.0 --nofetch
